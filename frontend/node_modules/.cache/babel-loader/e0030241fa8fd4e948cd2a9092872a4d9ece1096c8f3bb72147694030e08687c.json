{"ast":null,"code":"var _jsxFileName = \"/Users/dibyendubar/ping_pong_game/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [gameState, setGameState] = useState(null);\n  const socketRef = useRef(null);\n  const paddleSpeed = 10;\n  const canvasWidth = 600;\n  const canvasHeight = 400;\n  const handleKeyDown = e => {\n    if (!gameState) return;\n    if (e.key === \"w\") {\n      socketRef.current.send(JSON.stringify({\n        paddle1: {\n          y: gameState.paddle1.y - paddleSpeed\n        }\n      }));\n    } else if (e.key === \"s\") {\n      socketRef.current.send(JSON.stringify({\n        paddle1: {\n          y: gameState.paddle1.y + paddleSpeed\n        }\n      }));\n    } else if (e.key === \"ArrowUp\") {\n      socketRef.current.send(JSON.stringify({\n        paddle2: {\n          y: gameState.paddle2.y - paddleSpeed\n        }\n      }));\n    } else if (e.key === \"ArrowDown\") {\n      socketRef.current.send(JSON.stringify({\n        paddle2: {\n          y: gameState.paddle2.y + paddleSpeed\n        }\n      }));\n    }\n  };\n  useEffect(() => {\n    socketRef.current = new WebSocket(\"ws://localhost:8000/ws\");\n    socketRef.current.onmessage = event => {\n      const data = JSON.parse(event.data);\n      setGameState(data);\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      socketRef.current.close();\n    };\n  }, []);\n  const drawGame = ctx => {\n    if (!gameState) return;\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // Draw paddles\n    ctx.fillRect(gameState.paddle1.x, gameState.paddle1.y, 10, 50);\n    ctx.fillRect(gameState.paddle2.x, gameState.paddle2.y, 10, 50);\n\n    // Draw ball\n    ctx.beginPath();\n    ctx.arc(gameState.ball.x, gameState.ball.y, 10, 0, 2 * Math.PI);\n    ctx.fill();\n\n    // Draw obstacles\n    gameState.obstacles.forEach(obstacle => {\n      ctx.fillRect(obstacle.x, obstacle.y, obstacle.size, obstacle.size);\n    });\n\n    // Draw scores\n    ctx.font = \"20px Arial\";\n    ctx.fillText(`Player 1: ${gameState.score.player1}`, 20, 20);\n    ctx.fillText(`Player 2: ${gameState.score.player2}`, 400, 20);\n  };\n  useEffect(() => {\n    const canvas = document.getElementById(\"gameCanvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const interval = setInterval(() => drawGame(ctx), 1000 / 60);\n    return () => clearInterval(interval);\n  }, [gameState]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"gameCanvas\",\n    width: canvasWidth,\n    height: canvasHeight\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 10\n  }, this);\n};\n_s(App, \"YeS8xNSqdMk4HSwh3OlYvLL5+mQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","App","_s","gameState","setGameState","socketRef","paddleSpeed","canvasWidth","canvasHeight","handleKeyDown","e","key","current","send","JSON","stringify","paddle1","y","paddle2","WebSocket","onmessage","event","data","parse","window","addEventListener","removeEventListener","close","drawGame","ctx","clearRect","fillRect","x","beginPath","arc","ball","Math","PI","fill","obstacles","forEach","obstacle","size","font","fillText","score","player1","player2","canvas","document","getElementById","getContext","interval","setInterval","clearInterval","id","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dibyendubar/ping_pong_game/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nconst App = () => {\n  const [gameState, setGameState] = useState(null);\n  const socketRef = useRef(null);\n\n  const paddleSpeed = 10;\n  const canvasWidth = 600;\n  const canvasHeight = 400;\n\n  const handleKeyDown = (e) => {\n    if (!gameState) return;\n\n    if (e.key === \"w\") {\n      socketRef.current.send(\n        JSON.stringify({ paddle1: { y: gameState.paddle1.y - paddleSpeed } })\n      );\n    } else if (e.key === \"s\") {\n      socketRef.current.send(\n        JSON.stringify({ paddle1: { y: gameState.paddle1.y + paddleSpeed } })\n      );\n    } else if (e.key === \"ArrowUp\") {\n      socketRef.current.send(\n        JSON.stringify({ paddle2: { y: gameState.paddle2.y - paddleSpeed } })\n      );\n    } else if (e.key === \"ArrowDown\") {\n      socketRef.current.send(\n        JSON.stringify({ paddle2: { y: gameState.paddle2.y + paddleSpeed } })\n      );\n    }\n  };\n\n  useEffect(() => {\n    socketRef.current = new WebSocket(\"ws://localhost:8000/ws\");\n\n    socketRef.current.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      setGameState(data);\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      socketRef.current.close();\n    };\n  }, []);\n\n  const drawGame = (ctx) => {\n    if (!gameState) return;\n\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // Draw paddles\n    ctx.fillRect(gameState.paddle1.x, gameState.paddle1.y, 10, 50);\n    ctx.fillRect(gameState.paddle2.x, gameState.paddle2.y, 10, 50);\n\n    // Draw ball\n    ctx.beginPath();\n    ctx.arc(gameState.ball.x, gameState.ball.y, 10, 0, 2 * Math.PI);\n    ctx.fill();\n\n    // Draw obstacles\n    gameState.obstacles.forEach((obstacle) => {\n      ctx.fillRect(obstacle.x, obstacle.y, obstacle.size, obstacle.size);\n    });\n\n    // Draw scores\n    ctx.font = \"20px Arial\";\n    ctx.fillText(`Player 1: ${gameState.score.player1}`, 20, 20);\n    ctx.fillText(`Player 2: ${gameState.score.player2}`, 400, 20);\n  };\n\n  useEffect(() => {\n    const canvas = document.getElementById(\"gameCanvas\");\n    const ctx = canvas.getContext(\"2d\");\n\n    const interval = setInterval(() => drawGame(ctx), 1000 / 60);\n\n    return () => clearInterval(interval);\n  }, [gameState]);\n\n  return <canvas id=\"gameCanvas\" width={canvasWidth} height={canvasHeight} />;\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMO,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAMS,WAAW,GAAG,EAAE;EACtB,MAAMC,WAAW,GAAG,GAAG;EACvB,MAAMC,YAAY,GAAG,GAAG;EAExB,MAAMC,aAAa,GAAIC,CAAC,IAAK;IAC3B,IAAI,CAACP,SAAS,EAAE;IAEhB,IAAIO,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;MACjBN,SAAS,CAACO,OAAO,CAACC,IAAI,CACpBC,IAAI,CAACC,SAAS,CAAC;QAAEC,OAAO,EAAE;UAAEC,CAAC,EAAEd,SAAS,CAACa,OAAO,CAACC,CAAC,GAAGX;QAAY;MAAE,CAAC,CACtE,CAAC;IACH,CAAC,MAAM,IAAII,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;MACxBN,SAAS,CAACO,OAAO,CAACC,IAAI,CACpBC,IAAI,CAACC,SAAS,CAAC;QAAEC,OAAO,EAAE;UAAEC,CAAC,EAAEd,SAAS,CAACa,OAAO,CAACC,CAAC,GAAGX;QAAY;MAAE,CAAC,CACtE,CAAC;IACH,CAAC,MAAM,IAAII,CAAC,CAACC,GAAG,KAAK,SAAS,EAAE;MAC9BN,SAAS,CAACO,OAAO,CAACC,IAAI,CACpBC,IAAI,CAACC,SAAS,CAAC;QAAEG,OAAO,EAAE;UAAED,CAAC,EAAEd,SAAS,CAACe,OAAO,CAACD,CAAC,GAAGX;QAAY;MAAE,CAAC,CACtE,CAAC;IACH,CAAC,MAAM,IAAII,CAAC,CAACC,GAAG,KAAK,WAAW,EAAE;MAChCN,SAAS,CAACO,OAAO,CAACC,IAAI,CACpBC,IAAI,CAACC,SAAS,CAAC;QAAEG,OAAO,EAAE;UAAED,CAAC,EAAEd,SAAS,CAACe,OAAO,CAACD,CAAC,GAAGX;QAAY;MAAE,CAAC,CACtE,CAAC;IACH;EACF,CAAC;EAEDV,SAAS,CAAC,MAAM;IACdS,SAAS,CAACO,OAAO,GAAG,IAAIO,SAAS,CAAC,wBAAwB,CAAC;IAE3Dd,SAAS,CAACO,OAAO,CAACQ,SAAS,GAAIC,KAAK,IAAK;MACvC,MAAMC,IAAI,GAAGR,IAAI,CAACS,KAAK,CAACF,KAAK,CAACC,IAAI,CAAC;MACnClB,YAAY,CAACkB,IAAI,CAAC;IACpB,CAAC;IAEDE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEhB,aAAa,CAAC;IACjD,OAAO,MAAM;MACXe,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEjB,aAAa,CAAC;MACpDJ,SAAS,CAACO,OAAO,CAACe,KAAK,CAAC,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAIC,GAAG,IAAK;IACxB,IAAI,CAAC1B,SAAS,EAAE;IAEhB0B,GAAG,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEvB,WAAW,EAAEC,YAAY,CAAC;;IAE9C;IACAqB,GAAG,CAACE,QAAQ,CAAC5B,SAAS,CAACa,OAAO,CAACgB,CAAC,EAAE7B,SAAS,CAACa,OAAO,CAACC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;IAC9DY,GAAG,CAACE,QAAQ,CAAC5B,SAAS,CAACe,OAAO,CAACc,CAAC,EAAE7B,SAAS,CAACe,OAAO,CAACD,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;;IAE9D;IACAY,GAAG,CAACI,SAAS,CAAC,CAAC;IACfJ,GAAG,CAACK,GAAG,CAAC/B,SAAS,CAACgC,IAAI,CAACH,CAAC,EAAE7B,SAAS,CAACgC,IAAI,CAAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,GAAGmB,IAAI,CAACC,EAAE,CAAC;IAC/DR,GAAG,CAACS,IAAI,CAAC,CAAC;;IAEV;IACAnC,SAAS,CAACoC,SAAS,CAACC,OAAO,CAAEC,QAAQ,IAAK;MACxCZ,GAAG,CAACE,QAAQ,CAACU,QAAQ,CAACT,CAAC,EAAES,QAAQ,CAACxB,CAAC,EAAEwB,QAAQ,CAACC,IAAI,EAAED,QAAQ,CAACC,IAAI,CAAC;IACpE,CAAC,CAAC;;IAEF;IACAb,GAAG,CAACc,IAAI,GAAG,YAAY;IACvBd,GAAG,CAACe,QAAQ,CAAC,aAAazC,SAAS,CAAC0C,KAAK,CAACC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAC5DjB,GAAG,CAACe,QAAQ,CAAC,aAAazC,SAAS,CAAC0C,KAAK,CAACE,OAAO,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;EAC/D,CAAC;EAEDnD,SAAS,CAAC,MAAM;IACd,MAAMoD,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;IACpD,MAAMrB,GAAG,GAAGmB,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IAEnC,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAMzB,QAAQ,CAACC,GAAG,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC;IAE5D,OAAO,MAAMyB,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACjD,SAAS,CAAC,CAAC;EAEf,oBAAOH,OAAA;IAAQuD,EAAE,EAAC,YAAY;IAACC,KAAK,EAAEjD,WAAY;IAACkD,MAAM,EAAEjD;EAAa;IAAAkD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC7E,CAAC;AAAC3D,EAAA,CAhFID,GAAG;AAAA6D,EAAA,GAAH7D,GAAG;AAkFT,eAAeA,GAAG;AAAC,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}